/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2015 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

int init_proc();
// int putchar(int c);
// int puts(const char *s);
// int printf(const char *format, ...);
// int __fastcall __isoc99_scanf(_QWORD, _QWORD); weak
// int _gmon_start__(void); weak
int deregister_tm_clones();
int register_tm_clones();
int _do_global_dtors_aux();
int frame_dummy();
int __cdecl main(int argc, const char **argv, const char **envp);
__int64 flag();
void __fastcall _libc_csu_init(unsigned int a1, __int64 a2, __int64 a3);
void term_proc();

//-------------------------------------------------------------------------
// Data declarations

__int64 (__fastcall *_frame_dummy_init_array_entry[2])() = { &frame_dummy, &_do_global_dtors_aux }; // weak
__int64 (__fastcall *_do_global_dtors_aux_fini_array_entry)() = &_do_global_dtors_aux; // weak
char _bss_start; // weak
_UNKNOWN unk_60105F; // weak
// extern _UNKNOWN __gmon_start__; weak


//----- (00000000004004F0) ----------------------------------------------------
int init_proc()
{
  void *v0; // rax@1

  v0 = &__gmon_start__;
  if ( &__gmon_start__ )
    LODWORD(v0) = _gmon_start__();
  return (unsigned __int64)v0;
}
// 400580: using guessed type int _gmon_start__(void);

//----- (0000000000400590) ----------------------------------------------------
#error "400596: positive sp value has been found (funcsize=3)"

//----- (00000000004005C0) ----------------------------------------------------
int deregister_tm_clones()
{
  signed __int64 v0; // rax@1

  v0 = &unk_60105F - (_UNKNOWN *)&_bss_start;
  if ( (unsigned __int64)(&unk_60105F - (_UNKNOWN *)&_bss_start) > 0xE )
    LODWORD(v0) = 0;
  return v0;
}
// 601058: using guessed type char _bss_start;

//----- (0000000000400600) ----------------------------------------------------
int register_tm_clones()
{
  return 0;
}

//----- (0000000000400640) ----------------------------------------------------
int _do_global_dtors_aux()
{
  int result; // eax@2

  if ( !_bss_start )
  {
    result = deregister_tm_clones();
    _bss_start = 1;
  }
  return result;
}
// 601058: using guessed type char _bss_start;

//----- (0000000000400660) ----------------------------------------------------
int frame_dummy()
{
  return register_tm_clones();
}
// 400660: could not find valid save-restore pair for rbp

//----- (0000000000400686) ----------------------------------------------------
int __cdecl main(int argc, const char **argv, const char **envp)
{
  int result; // eax@4
  __int64 v4; // rcx@4
  int v5; // [sp+0h] [bp-10h]@1
  int v6; // [sp+4h] [bp-Ch]@1
  __int64 v7; // [sp+8h] [bp-8h]@1

  v7 = *MK_FP(__FS__, 40LL);
  v6 = 10;
  printf("input : ", argv, envp);
  __isoc99_scanf("%d", &v5);
  v6 = 12 * (v6 - 3) + 1;
  printf("%d\n", (unsigned int)v6);
  if ( v6 == v5 )
    flag();
  else
    puts("Wrong");
  result = 0;
  v4 = *MK_FP(__FS__, 40LL) ^ v7;
  return result;
}
// 400570: using guessed type int __fastcall __isoc99_scanf(_QWORD, _QWORD);

//----- (0000000000400730) ----------------------------------------------------
__int64 flag()
{
  signed int i; // [sp+Ch] [bp-34h]@1
  __int64 v2; // [sp+10h] [bp-30h]@1
  __int64 v3; // [sp+18h] [bp-28h]@1
  __int64 v4; // [sp+20h] [bp-20h]@1
  __int16 v5; // [sp+28h] [bp-18h]@1
  char v6; // [sp+2Ah] [bp-16h]@1
  __int64 v7; // [sp+38h] [bp-8h]@1

  v7 = *MK_FP(__FS__, 40LL);
  v2 = 7230100750072041811LL;
  v3 = 7958808751902712427LL;
  v4 = 7524211405040935774LL;
  v5 = 25701;
  v6 = 124;
  for ( i = 0; i <= 26; ++i )
    putchar(++*((_BYTE *)&v2 + i));
  return *MK_FP(__FS__, 40LL) ^ v7;
}

//----- (00000000004007E0) ----------------------------------------------------
void __fastcall _libc_csu_init(unsigned int a1, __int64 a2, __int64 a3)
{
  __int64 v3; // r13@1
  signed __int64 v4; // rbp@1
  __int64 v5; // rbx@2

  v3 = a3;
  v4 = &_do_global_dtors_aux_fini_array_entry - _frame_dummy_init_array_entry;
  init_proc();
  if ( v4 )
  {
    v5 = 0LL;
    do
      ((void (__fastcall *)(_QWORD, __int64, __int64))_frame_dummy_init_array_entry[v5++])(a1, a2, v3);
    while ( v5 != v4 );
  }
}
// 600E10: using guessed type __int64 (__fastcall *_frame_dummy_init_array_entry[2])();
// 600E18: using guessed type __int64 (__fastcall *_do_global_dtors_aux_fini_array_entry)();

//----- (0000000000400854) ----------------------------------------------------
void term_proc()
{
  ;
}

#error "There were 1 decompilation failure(s) on 10 function(s)"
